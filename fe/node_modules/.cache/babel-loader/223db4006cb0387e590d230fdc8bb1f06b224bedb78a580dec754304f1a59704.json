{"ast":null,"code":"var _jsxFileName = \"E:\\\\H\\u1ECDc t\\u1EADp\\\\College\\\\CRP\\\\project\\\\Virtual-Assistant-with-Gemini-API-1\\\\fe\\\\src\\\\components\\\\SpeechToText.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\n\n// Extend the Window interface to include SpeechRecognition\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SpeechToText = ({\n  onTranscript\n}) => {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  let recognition;\n  const startListening = () => {\n    if (isListening) {\n      stopListening();\n      return;\n    }\n    recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\n    recognition.lang = \"en-US\"; // Set language\n    recognition.interimResults = false; // Only final results\n\n    recognition.onstart = () => setIsListening(true);\n    recognition.onresult = event => {\n      const result = event.results[0][0].transcript;\n      onTranscript(result); // Send transcript to parent component\n    };\n    recognition.onerror = event => {\n      console.error(\"Speech recognition error: \", event.error);\n    };\n    recognition.onend = () => {\n      if (isListening) {\n        recognition.start(); // Restart listening if still in listening mode\n      } else {\n        setIsListening(false);\n      }\n    };\n    recognition.start(); // Start listening\n  };\n  const stopListening = () => {\n    if (recognition) {\n      recognition.stop();\n      setIsListening(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginTop: \"20px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startListening,\n      style: {\n        padding: \"10px 20px\",\n        borderRadius: \"4px\",\n        backgroundColor: isListening ? \"#28a745\" : \"#007bff\",\n        color: \"#fff\",\n        border: \"none\",\n        cursor: \"pointer\",\n        transition: \"background-color 0.3s ease\",\n        boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\n      },\n      onMouseOver: e => e.currentTarget.style.backgroundColor = isListening ? \"#218838\" : \"#0056b3\",\n      onMouseOut: e => e.currentTarget.style.backgroundColor = isListening ? \"#28a745\" : \"#007bff\",\n      children: isListening ? \"Stop Listening\" : \"Start Listening\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(SpeechToText, \"DrvbTpAutob4ffscqUSCDvG+gE8=\");\n_c = SpeechToText;\nexport default SpeechToText;\nvar _c;\n$RefreshReg$(_c, \"SpeechToText\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SpeechToText","onTranscript","_s","isListening","setIsListening","recognition","startListening","stopListening","window","SpeechRecognition","webkitSpeechRecognition","lang","interimResults","onstart","onresult","event","result","results","transcript","onerror","console","error","onend","start","stop","style","textAlign","marginTop","children","onClick","padding","borderRadius","backgroundColor","color","border","cursor","transition","boxShadow","onMouseOver","e","currentTarget","onMouseOut","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Học tập/College/CRP/project/Virtual-Assistant-with-Gemini-API-1/fe/src/components/SpeechToText.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\ninterface SpeechToTextProps {\r\n  onTranscript: (transcript: string) => void;\r\n}\r\n\r\n// Extend the Window interface to include SpeechRecognition\r\ndeclare global {\r\n  interface Window {\r\n    SpeechRecognition: any;\r\n    webkitSpeechRecognition: any;\r\n  }\r\n}\r\n\r\nconst SpeechToText: React.FC<SpeechToTextProps> = ({ onTranscript }) => {\r\n  const [isListening, setIsListening] = useState(false);\r\n  let recognition: any;\r\n\r\n  const startListening = () => {\r\n    if (isListening) {\r\n      stopListening();\r\n      return;\r\n    }\r\n\r\n    recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\r\n    recognition.lang = \"en-US\"; // Set language\r\n    recognition.interimResults = false; // Only final results\r\n\r\n    recognition.onstart = () => setIsListening(true);\r\n\r\n    recognition.onresult = (event: any) => {\r\n      const result = event.results[0][0].transcript;\r\n      onTranscript(result); // Send transcript to parent component\r\n    };\r\n\r\n    recognition.onerror = (event: any) => {\r\n      console.error(\"Speech recognition error: \", event.error);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      if (isListening) {\r\n        recognition.start(); // Restart listening if still in listening mode\r\n      } else {\r\n        setIsListening(false);\r\n      }\r\n    };\r\n\r\n    recognition.start(); // Start listening\r\n  };\r\n\r\n  const stopListening = () => {\r\n    if (recognition) {\r\n      recognition.stop();\r\n      setIsListening(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: \"20px\" }}>\r\n      <button\r\n        onClick={startListening}\r\n        style={{\r\n          padding: \"10px 20px\",\r\n          borderRadius: \"4px\",\r\n          backgroundColor: isListening ? \"#28a745\" : \"#007bff\",\r\n          color: \"#fff\",\r\n          border: \"none\",\r\n          cursor: \"pointer\",\r\n          transition: \"background-color 0.3s ease\",\r\n          boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\r\n        }}\r\n        onMouseOver={(e) => (e.currentTarget.style.backgroundColor = isListening ? \"#218838\" : \"#0056b3\")}\r\n        onMouseOut={(e) => (e.currentTarget.style.backgroundColor = isListening ? \"#28a745\" : \"#007bff\")}\r\n      >\r\n        {isListening ? \"Stop Listening\" : \"Start Listening\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpeechToText;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;;AAMvC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAQA,MAAMC,YAAyC,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACtE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EACrD,IAAIQ,WAAgB;EAEpB,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAIH,WAAW,EAAE;MACfI,aAAa,CAAC,CAAC;MACf;IACF;IAEAF,WAAW,GAAG,KAAKG,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACE,uBAAuB,EAAE,CAAC;IAChFL,WAAW,CAACM,IAAI,GAAG,OAAO,CAAC,CAAC;IAC5BN,WAAW,CAACO,cAAc,GAAG,KAAK,CAAC,CAAC;;IAEpCP,WAAW,CAACQ,OAAO,GAAG,MAAMT,cAAc,CAAC,IAAI,CAAC;IAEhDC,WAAW,CAACS,QAAQ,GAAIC,KAAU,IAAK;MACrC,MAAMC,MAAM,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU;MAC7CjB,YAAY,CAACe,MAAM,CAAC,CAAC,CAAC;IACxB,CAAC;IAEDX,WAAW,CAACc,OAAO,GAAIJ,KAAU,IAAK;MACpCK,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEN,KAAK,CAACM,KAAK,CAAC;IAC1D,CAAC;IAEDhB,WAAW,CAACiB,KAAK,GAAG,MAAM;MACxB,IAAInB,WAAW,EAAE;QACfE,WAAW,CAACkB,KAAK,CAAC,CAAC,CAAC,CAAC;MACvB,CAAC,MAAM;QACLnB,cAAc,CAAC,KAAK,CAAC;MACvB;IACF,CAAC;IAEDC,WAAW,CAACkB,KAAK,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,MAAMhB,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIF,WAAW,EAAE;MACfA,WAAW,CAACmB,IAAI,CAAC,CAAC;MAClBpB,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,oBACEL,OAAA;IAAK0B,KAAK,EAAE;MAAEC,SAAS,EAAE,QAAQ;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAC,QAAA,eACrD7B,OAAA;MACE8B,OAAO,EAAEvB,cAAe;MACxBmB,KAAK,EAAE;QACLK,OAAO,EAAE,WAAW;QACpBC,YAAY,EAAE,KAAK;QACnBC,eAAe,EAAE7B,WAAW,GAAG,SAAS,GAAG,SAAS;QACpD8B,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE,SAAS;QACjBC,UAAU,EAAE,4BAA4B;QACxCC,SAAS,EAAE;MACb,CAAE;MACFC,WAAW,EAAGC,CAAC,IAAMA,CAAC,CAACC,aAAa,CAACf,KAAK,CAACO,eAAe,GAAG7B,WAAW,GAAG,SAAS,GAAG,SAAW;MAClGsC,UAAU,EAAGF,CAAC,IAAMA,CAAC,CAACC,aAAa,CAACf,KAAK,CAACO,eAAe,GAAG7B,WAAW,GAAG,SAAS,GAAG,SAAW;MAAAyB,QAAA,EAEhGzB,WAAW,GAAG,gBAAgB,GAAG;IAAiB;MAAAuC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7C;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC3C,EAAA,CAhEIF,YAAyC;AAAA8C,EAAA,GAAzC9C,YAAyC;AAkE/C,eAAeA,YAAY;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}