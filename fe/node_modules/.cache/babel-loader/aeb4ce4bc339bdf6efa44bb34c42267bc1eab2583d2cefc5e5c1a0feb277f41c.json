{"ast":null,"code":"var _jsxFileName = \"E:\\\\H\\u1ECDc t\\u1EADp\\\\College\\\\CRP\\\\project\\\\Virtual-Assistant-with-Gemini-API-1\\\\fe\\\\src\\\\components\\\\SpeechToText.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\n\n// Extend the Window interface to include SpeechRecognition\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SpeechToText = ({\n  onTranscript\n}) => {\n  _s();\n  const [isListening, setIsListening] = useState(false);\n  const recognitionRef = useRef(null);\n  const toggleListening = () => {\n    if (isListening) {\n      var _recognitionRef$curre;\n      (_recognitionRef$curre = recognitionRef.current) === null || _recognitionRef$curre === void 0 ? void 0 : _recognitionRef$curre.stop();\n    } else {\n      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\n      recognition.lang = \"en-US\"; // Set language\n      recognition.interimResults = false; // Only final results\n\n      recognition.onstart = () => setIsListening(true);\n      recognition.onresult = event => {\n        const result = event.results[0][0].transcript;\n        onTranscript(result); // Send transcript to parent component\n      };\n      recognition.onerror = event => {\n        console.error(\"Speech recognition error: \", event.error);\n      };\n      recognition.onend = () => setIsListening(false);\n      recognition.start(); // Start listening\n      recognitionRef.current = recognition;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginTop: \"20px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleListening,\n      style: {\n        padding: \"10px 20px\",\n        borderRadius: \"4px\",\n        backgroundColor: isListening ? \"#28a745\" : \"#007bff\",\n        color: \"#fff\",\n        border: \"none\",\n        cursor: \"pointer\",\n        transition: \"background-color 0.3s ease\",\n        boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\n      },\n      onMouseOver: e => e.currentTarget.style.backgroundColor = isListening ? \"#218838\" : \"#0056b3\",\n      onMouseOut: e => e.currentTarget.style.backgroundColor = isListening ? \"#28a745\" : \"#007bff\",\n      children: isListening ? \"Listening...\" : \"Start Listening\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(SpeechToText, \"LCPPzO2SrvVGcL2or1W30ajSTvA=\");\n_c = SpeechToText;\nexport default SpeechToText;\nvar _c;\n$RefreshReg$(_c, \"SpeechToText\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","SpeechToText","onTranscript","_s","isListening","setIsListening","recognitionRef","toggleListening","_recognitionRef$curre","current","stop","recognition","window","SpeechRecognition","webkitSpeechRecognition","lang","interimResults","onstart","onresult","event","result","results","transcript","onerror","console","error","onend","start","style","textAlign","marginTop","children","onClick","padding","borderRadius","backgroundColor","color","border","cursor","transition","boxShadow","onMouseOver","e","currentTarget","onMouseOut","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Học tập/College/CRP/project/Virtual-Assistant-with-Gemini-API-1/fe/src/components/SpeechToText.tsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\n\r\ninterface SpeechToTextProps {\r\n  onTranscript: (transcript: string) => void;\r\n}\r\n\r\n// Extend the Window interface to include SpeechRecognition\r\ndeclare global {\r\n  interface Window {\r\n    SpeechRecognition: any;\r\n    webkitSpeechRecognition: any;\r\n  }\r\n}\r\n\r\nconst SpeechToText: React.FC<SpeechToTextProps> = ({ onTranscript }) => {\r\n  const [isListening, setIsListening] = useState(false);\r\n  const recognitionRef = useRef<SpeechRecognition | null>(null);\r\n\r\n  const toggleListening = () => {\r\n    if (isListening) {\r\n      recognitionRef.current?.stop();\r\n    } else {\r\n      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\r\n      recognition.lang = \"en-US\"; // Set language\r\n      recognition.interimResults = false; // Only final results\r\n\r\n      recognition.onstart = () => setIsListening(true);\r\n\r\n      recognition.onresult = (event: any) => {\r\n        const result = event.results[0][0].transcript;\r\n        onTranscript(result); // Send transcript to parent component\r\n      };\r\n\r\n      recognition.onerror = (event: any) => {\r\n        console.error(\"Speech recognition error: \", event.error);\r\n      };\r\n\r\n      recognition.onend = () => setIsListening(false);\r\n\r\n      recognition.start(); // Start listening\r\n      recognitionRef.current = recognition;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ textAlign: \"center\", marginTop: \"20px\" }}>\r\n      <button\r\n        onClick={toggleListening}\r\n        style={{\r\n          padding: \"10px 20px\",\r\n          borderRadius: \"4px\",\r\n          backgroundColor: isListening ? \"#28a745\" : \"#007bff\",\r\n          color: \"#fff\",\r\n          border: \"none\",\r\n          cursor: \"pointer\",\r\n          transition: \"background-color 0.3s ease\",\r\n          boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\r\n        }}\r\n        onMouseOver={(e) => (e.currentTarget.style.backgroundColor = isListening ? \"#218838\" : \"#0056b3\")}\r\n        onMouseOut={(e) => (e.currentTarget.style.backgroundColor = isListening ? \"#28a745\" : \"#007bff\")}\r\n      >\r\n        {isListening ? \"Listening...\" : \"Start Listening\"}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpeechToText;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;;AAM/C;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAQA,MAAMC,YAAyC,GAAGA,CAAC;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EACtE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMS,cAAc,GAAGR,MAAM,CAA2B,IAAI,CAAC;EAE7D,MAAMS,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAIH,WAAW,EAAE;MAAA,IAAAI,qBAAA;MACf,CAAAA,qBAAA,GAAAF,cAAc,CAACG,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,IAAI,CAAC,CAAC;IAChC,CAAC,MAAM;MACL,MAAMC,WAAW,GAAG,KAAKC,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACE,uBAAuB,EAAE,CAAC;MACtFH,WAAW,CAACI,IAAI,GAAG,OAAO,CAAC,CAAC;MAC5BJ,WAAW,CAACK,cAAc,GAAG,KAAK,CAAC,CAAC;;MAEpCL,WAAW,CAACM,OAAO,GAAG,MAAMZ,cAAc,CAAC,IAAI,CAAC;MAEhDM,WAAW,CAACO,QAAQ,GAAIC,KAAU,IAAK;QACrC,MAAMC,MAAM,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,UAAU;QAC7CpB,YAAY,CAACkB,MAAM,CAAC,CAAC,CAAC;MACxB,CAAC;MAEDT,WAAW,CAACY,OAAO,GAAIJ,KAAU,IAAK;QACpCK,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEN,KAAK,CAACM,KAAK,CAAC;MAC1D,CAAC;MAEDd,WAAW,CAACe,KAAK,GAAG,MAAMrB,cAAc,CAAC,KAAK,CAAC;MAE/CM,WAAW,CAACgB,KAAK,CAAC,CAAC,CAAC,CAAC;MACrBrB,cAAc,CAACG,OAAO,GAAGE,WAAW;IACtC;EACF,CAAC;EAED,oBACEX,OAAA;IAAK4B,KAAK,EAAE;MAAEC,SAAS,EAAE,QAAQ;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAC,QAAA,eACrD/B,OAAA;MACEgC,OAAO,EAAEzB,eAAgB;MACzBqB,KAAK,EAAE;QACLK,OAAO,EAAE,WAAW;QACpBC,YAAY,EAAE,KAAK;QACnBC,eAAe,EAAE/B,WAAW,GAAG,SAAS,GAAG,SAAS;QACpDgC,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE,SAAS;QACjBC,UAAU,EAAE,4BAA4B;QACxCC,SAAS,EAAE;MACb,CAAE;MACFC,WAAW,EAAGC,CAAC,IAAMA,CAAC,CAACC,aAAa,CAACf,KAAK,CAACO,eAAe,GAAG/B,WAAW,GAAG,SAAS,GAAG,SAAW;MAClGwC,UAAU,EAAGF,CAAC,IAAMA,CAAC,CAACC,aAAa,CAACf,KAAK,CAACO,eAAe,GAAG/B,WAAW,GAAG,SAAS,GAAG,SAAW;MAAA2B,QAAA,EAEhG3B,WAAW,GAAG,cAAc,GAAG;IAAiB;MAAAyC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC7C,EAAA,CAnDIF,YAAyC;AAAAgD,EAAA,GAAzChD,YAAyC;AAqD/C,eAAeA,YAAY;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}